## 泛型(Generic)   

>语法糖(Syntactic Sugar),英国计算机科学家Peter.J.Landin发明的一个术语,指在计算机语言中添加的某种语法,这种语法对语言本身并没有影响,但是更方便程序员使用,Java中最常用的语法糖主要有泛型,可变参数,自动拆装箱,内部类等等,Jvm并不支持这些语法,他们在编译阶段就被还原回简单的基础语法,这个过程叫解语法糖     

### Java泛型的目的    

jdk1.5中加入了泛型机制,使得程序在编译阶段就完成一些类型转换的功能,避免在运行时强制类型转换时抛出异常     

Java泛型的引入很大程度上都是方便了集合的使用,让集合能够记住其元素的数据类型    

在泛型引入之前:   

```java
public static void main(String args[]) {
    List list = new ArrayList();
    list.add("111");
    list.add("bao");
    System.out.println((String) list.get(0));
}
```   

这种方式也可行,但是元素在进入集合后,才从集合中取出来时就变成了Object类型的对象,集合并不会记住该元素的类型     

而且在取出时,必须通过人为的强制类型转换将Object对象转换为相应的对象,这其中容易出现`ClassCastException`      

使用泛型可以在编译期就将类型安全问题检查出来     

### 泛型类和泛型接口    


* jdk1.7加入了泛型的"菱形语法"     

    允许在构造函数后不写当前完成的泛型信息,只需要给出一对尖括号<>即可,Java编译器会自动推断出尖括号中需要写入什么泛型实现类型    

* 泛型派生子类     

    在继承一个泛型类的时候,必须给定明确的的类型形参      

    也可以直接不给形参,这时KV都会被认为是Object类型        


### 类型通配符      

类型通配符就是一个"?",将一个问号作为类型实参传给List集合,`List<?>`,这个问号可以匹配任何类型    


### 类型擦除    

不管泛型的类型形参传入哪一种类型实参,对于Java来说它们仍被看作是同一个类使用,在内存中也只占一块区域,在编译成功后,会将字节码中有关泛型的内容擦除掉,也就是说在成功编译后的class文件中不包含任何泛型信息,泛型信息不会进入到运行时阶段,这也是为什么说泛型是一个语法糖,他的出现就是为了在编译期完成类型安全检查     

   







